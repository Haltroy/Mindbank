<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:backend="clr-namespace:Mindbank.Backend"
             xmlns:views="clr-namespace:Mindbank.Views"
             xmlns:lang="clr-namespace:Mindbank.Lang"
             xmlns:ui="using:FluentAvalonia.UI.Controls"
             xmlns:rs="using:RangeSlider.Avalonia.Controls"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Mindbank.Views.NoteScreen">
    <UserControl.Resources>
        <StreamGeometry x:Key="ArrowMaximizeVerticalRegular">M13.7197 5.78033C14.0126 6.07322 14.4874 6.07322 14.7803 5.78033C15.0732 5.48744 15.0732 5.01256 14.7803 4.71967L12.2803 2.21967C11.9874 1.92678 11.5126 1.92678 11.2197 2.21967L8.71967 4.71967C8.42678 5.01256 8.42678 5.48744 8.71967 5.78033C9.01256 6.07322 9.48744 6.07322 9.78033 5.78033L11 4.56066L11 8.75C11 9.16421 11.3358 9.5 11.75 9.5C12.1642 9.5 12.5 9.16421 12.5 8.75V4.56066L13.7197 5.78033Z M4 11.75C4 11.3358 4.33579 11 4.75 11H19.25C19.6642 11 20 11.3358 20 11.75C20 12.1642 19.6642 12.5 19.25 12.5H4.75C4.33579 12.5 4 12.1642 4 11.75Z M12.5 14.75C12.5 14.3358 12.1642 14 11.75 14C11.3358 14 11 14.3358 11 14.75V19.4393L9.78033 18.2197C9.48744 17.9268 9.01256 17.9268 8.71967 18.2197C8.42678 18.5126 8.42678 18.9874 8.71967 19.2803L11.2197 21.7803C11.5126 22.0732 11.9874 22.0732 12.2803 21.7803L14.7803 19.2803C15.0732 18.9874 15.0732 18.5126 14.7803 18.2197C14.4874 17.9268 14.0126 17.9268 13.7197 18.2197L12.5 19.4393V14.75Z</StreamGeometry>
        <StreamGeometry x:Key="SettingsRegular">M14 9.50006C11.5147 9.50006 9.5 11.5148 9.5 14.0001C9.5 16.4853 11.5147 18.5001 14 18.5001C15.3488 18.5001 16.559 17.9066 17.3838 16.9666C18.0787 16.1746 18.5 15.1365 18.5 14.0001C18.5 13.5401 18.431 13.0963 18.3028 12.6784C17.7382 10.8381 16.0253 9.50006 14 9.50006ZM11 14.0001C11 12.3432 12.3431 11.0001 14 11.0001C15.6569 11.0001 17 12.3432 17 14.0001C17 15.6569 15.6569 17.0001 14 17.0001C12.3431 17.0001 11 15.6569 11 14.0001Z M21.7093 22.3948L19.9818 21.6364C19.4876 21.4197 18.9071 21.4515 18.44 21.7219C17.9729 21.9924 17.675 22.4693 17.6157 23.0066L17.408 24.8855C17.3651 25.273 17.084 25.5917 16.7055 25.682C14.9263 26.1061 13.0725 26.1061 11.2933 25.682C10.9148 25.5917 10.6336 25.273 10.5908 24.8855L10.3834 23.0093C10.3225 22.4731 10.0112 21.9976 9.54452 21.7281C9.07783 21.4586 8.51117 21.4269 8.01859 21.6424L6.29071 22.4009C5.93281 22.558 5.51493 22.4718 5.24806 22.1859C4.00474 20.8536 3.07924 19.2561 2.54122 17.5137C2.42533 17.1384 2.55922 16.7307 2.8749 16.4977L4.40219 15.3703C4.83721 15.0501 5.09414 14.5415 5.09414 14.0007C5.09414 13.4598 4.83721 12.9512 4.40162 12.6306L2.87529 11.5051C2.55914 11.272 2.42513 10.8638 2.54142 10.4882C3.08038 8.74734 4.00637 7.15163 5.24971 5.82114C5.51684 5.53528 5.93492 5.44941 6.29276 5.60691L8.01296 6.36404C8.50793 6.58168 9.07696 6.54881 9.54617 6.27415C10.0133 6.00264 10.3244 5.52527 10.3844 4.98794L10.5933 3.11017C10.637 2.71803 10.9245 2.39704 11.3089 2.31138C12.19 2.11504 13.0891 2.01071 14.0131 2.00006C14.9147 2.01047 15.8128 2.11485 16.6928 2.31149C17.077 2.39734 17.3643 2.71823 17.4079 3.11017L17.617 4.98937C17.7116 5.85221 18.4387 6.50572 19.3055 6.50663C19.5385 6.507 19.769 6.45838 19.9843 6.36294L21.7048 5.60568C22.0626 5.44818 22.4807 5.53405 22.7478 5.81991C23.9912 7.1504 24.9172 8.74611 25.4561 10.487C25.5723 10.8623 25.4386 11.2703 25.1228 11.5035L23.5978 12.6297C23.1628 12.95 22.9 13.4586 22.9 13.9994C22.9 14.5403 23.1628 15.0489 23.5988 15.3698L25.1251 16.4965C25.441 16.7296 25.5748 17.1376 25.4586 17.5131C24.9198 19.2536 23.9944 20.8492 22.7517 22.1799C22.4849 22.4657 22.0671 22.5518 21.7093 22.3948ZM16.263 22.1966C16.4982 21.4685 16.9889 20.8288 17.6884 20.4238C18.5702 19.9132 19.6536 19.8547 20.5841 20.2627L21.9281 20.8526C22.791 19.8538 23.4593 18.7013 23.8981 17.4552L22.7095 16.5778L22.7086 16.5771C21.898 15.98 21.4 15.0277 21.4 13.9994C21.4 12.9719 21.8974 12.0195 22.7073 11.4227L22.7085 11.4218L23.8957 10.545C23.4567 9.2988 22.7881 8.14636 21.9248 7.1477L20.5922 7.73425L20.5899 7.73527C20.1844 7.91463 19.7472 8.00722 19.3039 8.00663C17.6715 8.00453 16.3046 6.77431 16.1261 5.15465L16.1259 5.15291L15.9635 3.69304C15.3202 3.57328 14.6677 3.50872 14.013 3.50017C13.3389 3.50891 12.6821 3.57367 12.0377 3.69328L11.8751 5.15452C11.7625 6.16272 11.1793 7.05909 10.3019 7.56986C9.41937 8.0856 8.34453 8.14844 7.40869 7.73694L6.07273 7.14893C5.20949 8.14751 4.54092 9.29983 4.10196 10.5459L5.29181 11.4233C6.11115 12.0269 6.59414 12.9837 6.59414 14.0007C6.59414 15.0173 6.11142 15.9742 5.29237 16.5776L4.10161 17.4566C4.54002 18.7044 5.2085 19.8585 6.07205 20.8587L7.41742 20.2682C8.34745 19.8613 9.41573 19.9215 10.2947 20.4292C11.174 20.937 11.7593 21.832 11.8738 22.84L11.8744 22.8445L12.0362 24.3088C13.3326 24.5638 14.6662 24.5638 15.9626 24.3088L16.1247 22.8418C16.1491 22.6217 16.1955 22.4055 16.263 22.1966Z</StreamGeometry>
        <StreamGeometry x:Key="CaretUpRegular">M5.16108 14.9083C4.45387 15.7165 5.02785 16.9814 6.1018 16.9814H17.898C18.972 16.9814 19.5459 15.7165 18.8388 14.9083L13.3169 8.59762C12.6197 7.80079 11.3801 7.80079 10.6829 8.59762L5.16108 14.9083ZM6.65274 15.4814L11.8118 9.58537C11.9114 9.47154 12.0885 9.47154 12.1881 9.58537L17.3471 15.4814H6.65274Z</StreamGeometry>
        <StreamGeometry x:Key="CaretDownRegular">M5.16108 10.0731C4.45387 9.2649 5.02785 8 6.1018 8H17.898C18.972 8 19.5459 9.2649 18.8388 10.0731L13.3169 16.3838C12.6197 17.1806 11.3801 17.1806 10.6829 16.3838L5.16108 10.0731ZM6.65274 9.5L11.8118 15.396C11.9114 15.5099 12.0885 15.5099 12.1881 15.396L17.3471 9.5H6.65274Z</StreamGeometry>
        <StreamGeometry x:Key="TopSpeedRegular">M10.0492532,15.4208574 L16.3060077,6.94493547 C16.5131405,6.66433611 16.8962754,6.58091825 17.2013158,6.75000494 C17.4758699,6.90219275 17.61052,7.21639422 17.5413028,7.51420559 L17.510592,7.61262428 L13.6405266,17.4116224 C13.2205308,18.475051 12.0179777,18.9966563 10.9545491,18.5766605 C10.8710782,18.543694 10.7898393,18.5053348 10.7113465,18.4618255 C9.71108052,17.9073691 9.34968053,16.6470175 9.904137,15.6467516 L9.97303013,15.5314501 L9.97303013,15.5314501 L10.0492532,15.4208574 L16.3060077,6.94493547 L10.0492532,15.4208574 Z M13.850015,12.7977214 L11.2560655,16.3117019 L11.2160666,16.373966 L11.2160666,16.373966 C11.0632395,16.6496733 11.1628536,16.9970689 11.4385609,17.149896 L11.5055502,17.1815268 L11.5055502,17.1815268 C11.769176,17.2856445 12.0638421,17.1796801 12.2044743,16.9439092 L12.2453929,16.8606213 L13.850015,12.7977214 Z M18.6095174,7.41397033 C19.364068,8.02528183 20.0469718,8.75083284 20.6317275,9.58595046 C21.1562296,10.3350171 21.6612578,11.2420254 21.9517027,11.9842912 C22.1026388,12.3700259 21.9122969,12.8050834 21.5265623,12.9560194 C21.1408277,13.1069554 20.7057702,12.9166136 20.5548341,12.530879 C20.4575421,12.2822379 20.3277108,12.0046594 20.1775548,11.7190679 L18.1280514,12.9023464 C17.769332,13.1094531 17.3106392,12.9865468 17.1035324,12.6278273 C16.9136845,12.2990011 17.0011393,11.8861696 17.2933389,11.6601229 L17.3780514,11.6033083 L19.3963044,10.4364308 L19.1658779,10.1227204 C18.8419948,9.70016342 18.4876665,9.31329453 18.1081562,8.96304177 L18.4883177,7.99876394 C18.5262055,7.90283222 18.5550318,7.80534515 18.5751558,7.70730436 L18.5988599,7.55995309 L18.6095174,7.41397033 Z M15.9809484,5.85271523 C15.8318986,5.9392755 15.694531,6.04936208 15.5743759,6.18134222 L15.4601633,6.32055973 L14.919203,7.05349635 C14.2174399,6.80955942 13.4886764,6.6517272 12.7502416,6.58305531 L12.75,9.25589923 C12.75,9.6701128 12.4142136,10.0058992 12,10.0058992 C11.6203042,10.0058992 11.306509,9.72374535 11.2568466,9.35766979 L11.25,9.25589923 L11.2496135,6.56662077 C9.65294084,6.68015443 8.06551588,7.21425939 6.65889532,8.19918572 C5.84294582,8.77051971 5.13152818,9.52142873 4.54015984,10.4038879 L6.62237477,11.6059717 C6.98109424,11.8130785 7.1040006,12.2717713 6.89689382,12.6304908 C6.70704594,12.959317 6.30579591,13.0899946 5.96393397,12.9499658 L5.87237477,12.9050099 L3.79818254,11.7080227 C3.6704134,11.9742424 3.55177265,12.248307 3.44255853,12.5292935 C3.29249811,12.9153696 2.8578736,13.1066981 2.47179751,12.9566377 C2.08572142,12.8065773 1.89439292,12.3719528 2.04445335,11.9858767 C2.85090303,9.91103954 4.12374054,8.14315832 5.79853067,6.97045765 C8.8904309,4.8054858 12.7328827,4.5119546 15.9809484,5.85271523 Z</StreamGeometry>
        <StreamGeometry x:Key="ArrowUploadRegular">M18.2498 3.50871C18.664 3.50883 19 3.17314 19 2.75892C19 2.34471 18.6644 2.00883 18.2502 2.00871L5.25022 2.00494C4.836 2.00482 4.5 2.34051 4.5 2.75473C4.5 3.16894 4.83557 3.50482 5.24978 3.50494L18.2498 3.50871ZM11.6482 21.9969L11.75 22.0038C12.1297 22.0038 12.4435 21.7216 12.4932 21.3555L12.5 21.2538L12.499 7.56876L16.2208 11.2891C16.4871 11.5553 16.9038 11.5795 17.1974 11.3616L17.2815 11.289C17.5477 11.0227 17.5719 10.606 17.354 10.3124L17.2814 10.2283L12.2837 5.23171C12.0176 4.96562 11.6012 4.94131 11.3076 5.15888L11.2235 5.2314L6.22003 10.228C5.92694 10.5207 5.92661 10.9956 6.21931 11.2887C6.48539 11.5551 6.90204 11.5796 7.1958 11.362L7.27997 11.2894L10.999 7.57576L11 21.2538C11 21.6335 11.2822 21.9473 11.6482 21.9969Z</StreamGeometry>
        <StreamGeometry x:Key="ArrowDownloadRegular">M12.25,39.5 L35.75,39.5 C36.4403559,39.5 37,40.0596441 37,40.75 C37,41.3972087 36.5081253,41.9295339 35.8778052,41.9935464 L35.75,42 L12.25,42 C11.5596441,42 11,41.4403559 11,40.75 C11,40.1027913 11.4918747,39.5704661 12.1221948,39.5064536 L12.25,39.5 L35.75,39.5 L12.25,39.5 Z M23.6221948,6.00645361 L23.75,6 C24.3972087,6 24.9295339,6.49187466 24.9935464,7.12219476 L25,7.25 L25,31.54 L30.6466793,25.8942911 C31.1348346,25.4061358 31.9262909,25.4061358 32.4144462,25.8942911 C32.9026016,26.3824465 32.9026016,27.1739027 32.4144462,27.6620581 L24.6362716,35.4402327 C24.1481163,35.928388 23.35666,35.928388 22.8685047,35.4402327 L15.0903301,27.6620581 C14.6021747,27.1739027 14.6021747,26.3824465 15.0903301,25.8942911 C15.5784855,25.4061358 16.3699417,25.4061358 16.858097,25.8942911 L22.5,31.536 L22.5,7.25 C22.5,6.60279131 22.9918747,6.0704661 23.6221948,6.00645361 L23.75,6 L23.6221948,6.00645361 Z</StreamGeometry>
        <StreamGeometry x:Key="ChevronLeftRegular">M31.8839 8.36612C32.372 8.85427 32.372 9.64573 31.8839 10.1339L18.0178 24L31.8839 37.8661C32.372 38.3543 32.372 39.1457 31.8839 39.6339C31.3957 40.122 30.6043 40.122 30.1161 39.6339L15.3661 24.8839C14.878 24.3957 14.878 23.6043 15.3661 23.1161L30.1161 8.36612C30.6043 7.87796 31.3957 7.87796 31.8839 8.36612Z</StreamGeometry>
        <StreamGeometry x:Key="EditOffRegular">M8.93944 10.0001L2.21979 3.28027C1.9269 2.98737 1.9269 2.5125 2.2198 2.21961C2.51269 1.92672 2.98757 1.92672 3.28046 2.21962L21.7802 20.7198C22.0731 21.0127 22.0731 21.4875 21.7802 21.7804C21.4873 22.0733 21.0125 22.0733 20.7196 21.7804L14 15.0608L9.0621 19.9987C8.78522 20.2756 8.44089 20.4754 8.06312 20.5784L2.94743 21.9736C2.38756 22.1263 1.87383 21.6126 2.02652 21.0527L3.42171 15.937C3.52474 15.5593 3.72456 15.2149 4.00144 14.9381L8.93944 10.0001ZM12.9392 13.9999L10.0001 11.0607L5.0621 15.9987C4.96981 16.091 4.9032 16.2058 4.86886 16.3317L3.81901 20.1811L7.66845 19.1313C7.79437 19.097 7.90915 19.0303 8.00144 18.9381L12.9392 13.9999Z M17.9393 8.99963L15.0598 11.8793L16.1207 12.9401L21.0304 8.03039C22.4279 6.63293 22.4279 4.36719 21.0304 2.96973C19.633 1.57227 17.3672 1.57227 15.9698 2.96973L11.0601 7.87943L12.1207 8.94013L15.0003 6.06063L17.9393 8.99963ZM17.0304 4.03039C17.8421 3.21871 19.1581 3.21871 19.9698 4.03039C20.7814 4.84206 20.7814 6.15805 19.9698 6.96973L18.9993 7.93963L16.0603 4.99963L17.0304 4.03039Z</StreamGeometry>
        <StreamGeometry x:Key="EditRegular">M27.3138 4.68622C28.8759 6.24832 28.8759 8.78098 27.3138 10.3431L12.5409 25.116C11.9001 25.7568 11.0972 26.2114 10.218 26.4312L5.63602 27.5767C4.90364 27.7598 4.24025 27.0964 4.42335 26.364L5.56885 21.782C5.78864 20.9028 6.24323 20.0999 6.88402 19.4591L21.6569 4.68622C23.219 3.12412 25.7517 3.12412 27.3138 4.68622ZM20.2426 8.92865L8.29824 20.8734C7.91376 21.2578 7.641 21.7396 7.50913 22.2671L6.76786 25.2322L9.73295 24.4909C10.2604 24.359 10.7422 24.0863 11.1267 23.7018L23.0706 11.7566L20.2426 8.92865ZM23.0712 6.10043L21.6566 7.51465L24.4846 10.3426L25.8996 8.92886C26.6806 8.14781 26.6806 6.88148 25.8996 6.10043C25.1185 5.31939 23.8522 5.31939 23.0712 6.10043Z</StreamGeometry>
        <StreamGeometry x:Key="PredictionsRegular">M12,2 C13.1533411,2 14.239122,2.28925943 15.1887536,2.79918917 C15.112506,3.24499916 14.9646822,3.56044404 14.7625631,3.76256313 C14.651965,3.87316122 14.5073983,3.96747369 14.3258552,4.04282999 C13.6240917,3.69484129 12.8347996,3.5 12,3.5 C9.10050506,3.5 6.75,5.85050506 6.75,8.75 C6.75,10.8881837 8.02822265,12.7278225 9.8622211,13.5464695 C10.5502799,13.8149728 11.1856692,13.9625453 11.7682833,13.9937269 L12,14 C12.6447239,14 13.3574543,13.8508379 14.1372164,13.5477329 C15.0530197,13.1384379 15.8301861,12.4750311 16.3789152,11.6472257 C17.0183307,11.8672416 17.7876826,11.7336231 18.2728071,11.2466813 C17.8577163,12.2895137 17.1901986,13.2039271 16.345851,13.9150872 L17.967289,18.7801589 C18.2335628,19.5789337 17.8932573,20.4540914 17.1573198,20.8631617 C15.7855762,21.6256443 14.0642518,22 12,22 C9.93575073,22 8.214428,21.6256452 6.84268887,20.8631665 C6.10675341,20.4541035 5.76644595,19.5789539 6.03270398,18.7801798 L7.654149,13.9150872 C6.18404803,12.6768801 5.25,10.8225194 5.25,8.75 C5.25,5.02207794 8.27207794,2 12,2 Z M15.0565518,14.7913638 L14.6969316,14.9394573 L14.6788415,14.9475423 C13.9522531,15.2620316 13.1594698,15.452487 12.3271908,15.4922091 C12.3209854,15.4911059 12.3153059,15.4914155 12.3096286,15.4917168 C12.2858058,15.4941022 12.2614052,15.4950751 12.2369716,15.4959181 L12,15.5 L11.804,15.496 L11.6733328,15.4907882 C10.8405302,15.452487 10.0477469,15.2620316 9.32115848,14.9475423 L9.30306837,14.9394573 C9.18403381,14.8929562 9.06416108,14.8435884 8.94344816,14.7913638 L7.45572893,19.2545215 C7.41769197,19.3686323 7.4663069,19.4936526 7.57144272,19.5520914 C8.7000759,20.1794401 10.1740439,20.5 12,20.5 C13.8259583,20.5 15.2999275,20.1794394 16.4285612,19.5520892 C16.533696,19.4936502 16.5823098,19.368631 16.5442682,19.2545129 L15.0565518,14.7913638 Z M11.6898272,15.4930001 L11.804,15.496 L11.8373106,15.4976957 L12,15.5 C11.8960435,15.5 11.7926358,15.49765 11.6898272,15.4930001 Z M17.9924045,1.88020833 L18,2 C18,3.14960906 18.2698654,3.95920521 18.7803301,4.46966991 C19.2515283,4.9408681 19.9776077,5.20705858 20.9907227,5.24522281 L21.25,5.25 C22.2083333,5.25 22.2482639,6.62760417 21.3697917,6.74240451 L21.25,6.75 C20.1003909,6.75 19.2907948,7.01986538 18.7803301,7.53033009 C18.3091319,8.00152827 18.0429414,8.72760769 18.0047772,9.74072273 L18,10 C18,11 16.5,11 16.5,10 C16.5,8.85039094 16.2301346,8.04079479 15.7196699,7.53033009 C15.2484717,7.0591319 14.5223923,6.79294142 13.5092773,6.75477719 L13.25,6.75 C12.2916667,6.75 12.2517361,5.37239583 13.1302083,5.25759549 L13.25,5.25 C14.3996091,5.25 15.2092052,4.98013462 15.7196699,4.46966991 C16.2301346,3.95920521 16.5,3.14960906 16.5,2 C16.5,1.04166667 17.8776042,1.00173611 17.9924045,1.88020833 Z M17.25,4.95250583 L17.1063227,5.15616731 C17.0062588,5.28827689 16.8976229,5.41303729 16.7803301,5.53033009 C16.6043909,5.70626928 16.4116496,5.86273057 16.2025058,6 C16.4116496,6.13726943 16.6043909,6.29373072 16.7803301,6.46966991 C16.9562693,6.64560911 17.1127306,6.8383504 17.25,7.04749417 C17.3872694,6.8383504 17.5437307,6.64560911 17.7196699,6.46966991 C17.8956091,6.29373072 18.0883504,6.13726943 18.2974942,6 C18.0883504,5.86273057 17.8956091,5.70626928 17.7196699,5.53033009 C17.6023771,5.41303729 17.4937412,5.28827689 17.3936773,5.15616731 L17.25,4.95250583 Z</StreamGeometry>
        <StreamGeometry x:Key="DiceRegular">M454.609,111.204L280.557,6.804C272.992,2.268,264.503,0,255.999,0c-8.507,0-16.995,2.268-24.557,6.796 L57.391,111.204c-5.346,3.202-9.917,7.369-13.556,12.192l207.904,124.708c2.622,1.575,5.9,1.575,8.519,0L468.16,123.396 C464.524,118.573,459.951,114.406,454.609,111.204z M157.711,130.313c-10.96,7.611-28.456,7.422-39.081-0.452 c-10.618-7.859-10.342-20.413,0.618-28.031c10.964-7.626,28.46-7.422,39.081,0.438C168.95,110.134,168.674,122.68,157.711,130.313z M274.159,131.021c-10.594,7.362-27.496,7.166-37.762-0.429c-10.263-7.596-9.992-19.727,0.599-27.089 c10.591-7.362,27.492-7.174,37.759,0.43C285.018,111.528,284.75,123.659,274.159,131.021z M391.908,132.702 c-10.964,7.618-28.461,7.414-39.085-0.444c-10.617-7.86-10.343-20.42,0.621-28.046c10.957-7.61,28.456-7.422,39.078,0.452 C403.147,112.523,402.868,125.076,391.908,132.702z M246.136,258.366L38.007,133.523c-2.46,5.802-3.798,12.117-3.798,18.62v208.084 c0,16.773,8.797,32.311,23.182,40.946l174.051,104.392c5.829,3.497,12.204,5.629,18.714,6.435V265.464 C250.156,262.556,248.63,259.858,246.136,258.366z M75.845,369.736c-12.056-6.57-21.829-21.671-21.829-33.727 c0-12.056,9.773-16.502,21.829-9.932c12.056,6.571,21.826,21.671,21.826,33.728C97.671,371.861,87.901,376.307,75.845,369.736z M75.845,247.87c-12.056-6.579-21.829-21.679-21.829-33.728c0-12.056,9.773-16.502,21.829-9.931 c12.056,6.57,21.826,21.671,21.826,33.728C97.671,249.987,87.901,254.44,75.845,247.87z M197.715,436.158 c-12.052-6.57-21.826-21.671-21.826-33.728c0-12.048,9.773-16.494,21.826-9.924c12.056,6.571,21.826,21.671,21.826,33.72 s9.773-16.502,21.826-9.931c12.056,6.57,21.826,21.671,21.826,33.727C219.541,316.417,209.771,320.862,197.715,314.292z M473.993,133.523l-208.13,124.843c-2.494,1.492-4.02,4.19-4.02,7.099V512 C477.791,145.64,476.453,139.325,473.993,133.523z M370.478,355.11c-19.287,10.512-34.922,3.398-34.922-15.892 c0-19.282,15.635-43.447,34.922-53.951c19.293-10.519,34.925-3.406,34.925,15.884C405.403,320.434,389.771,344.598,370.478,355.11z</StreamGeometry>
        <StreamGeometry x:Key="TagRegular">M19.75,2 C20.9926407,2 22,3.00735931 22,4.25 L22,9.71195771 C22,10.5737738 21.6576992,11.4003037 21.0483777,12.0097741 L12.5473442,20.5128837 C11.2778881,21.7797729 9.22213817,21.7806673 7.95097797,20.5142825 L3.48927551,16.0592499 C2.21880658,14.7912535 2.21717852,12.7333756 3.48549701,11.4631582 L11.9851607,2.95333557 C12.5947699,2.34296602 13.422034,2 14.2846894,2 L19.75,2 Z M19.75,3.5 L14.2846894,3.5 C13.8201826,3.5 13.3747328,3.68467401 13.0464816,4.01333454 L4.53430434,12.5358177 L4.53430434,12.5358177 C3.86407752,13.2207041 3.86916592,14.3191439 4.54902203,14.9976769 L9.0102422,19.4522286 C9.6951129,20.134526 10.8034812,20.1340438 11.4871562,19.4517518 L19.987588,10.9492434 C20.3156842,10.6210671 20.5,10.1760125 20.5,9.71195771 L20.5,4.25 C20.5,3.83578644 20.1642136,3.5 19.75,3.5 Z M16.9999743,5.50218109 C17.8283872,5.50218109 18.4999486,6.17374246 18.4999486,7.00215539 C18.4999486,7.83056832 17.8283872,8.50212969 16.9999743,8.50212969 C16.1715614,8.50212969 15.5,7.83056832 15.5,7.00215539 C15.5,6.17374246 16.1715614,5.50218109 16.9999743,5.50218109 Z</StreamGeometry>
        <StreamGeometry x:Key="DeleteRegular">M24,7.25 C27.1017853,7.25 29.629937,9.70601719 29.7458479,12.7794443 L29.75,13 L37,13 C37.6903559,13 38.25,13.5596441 38.25,14.25 C38.25,14.8972087 37.7581253,15.4295339 37.1278052,15.4935464 L37,15.5 L35.909,15.5 L34.2058308,38.0698451 C34.0385226,40.2866784 32.1910211,42 29.9678833,42 L18.0321167,42 C15.8089789,42 13.9614774,40.2866784 13.7941692,38.0698451 L12.09,15.5 L11,15.5 C10.3527913,15.5 9.8204661,15.0081253 9.75645361,14.3778052 L9.75,14.25 C9.75,13.6027913 10.2418747,13.0704661 10.8721948,13.0064536 L11,13 L18.25,13 C18.25,9.82436269 20.8243627,7.25 24,7.25 Z M33.4021054,15.5 L14.5978946,15.5 L16.2870795,37.8817009 C16.3559711,38.7945146 17.116707,39.5 18.0321167,39.5 L29.9678833,39.5 C30.883293,39.5 31.6440289,38.7945146 31.7129205,37.8817009 L33.4021054,15.5 Z M27.25,20.75 C27.8972087,20.75 28.4295339,21.2418747 28.4935464,21.8721948 L28.5,22 L28.5,33 C28.5,33.6903559 27.9403559,34.25 27.25,34.25 C26.6027913,34.25 26.0704661,33.7581253 26.0064536,33.1278052 L26,33 L26,22 C26,21.3096441 26.5596441,20.75 27.25,20.75 Z M20.75,20.75 C21.3972087,20.75 21.9295339,21.2418747 21.9935464,21.8721948 L22,22 L22,33 C22,33.6903559 21.4403559,34.25 20.75,34.25 C20.1027913,34.25 19.5704661,33.7581253 19.5064536,33.1278052 L19.5,33 L19.5,22 C19.5,21.3096441 20.0596441,20.75 20.75,20.75 Z M24,9.75 C22.2669685,9.75 20.8507541,11.1064548 20.7551448,12.8155761 L20.75,13 L27.25,13 C27.25,11.2050746 25.7949254,9.75 24,9.75 Z</StreamGeometry>
        <StreamGeometry x:Key="ArrowSyncCircleRegular">M12,2 C17.5228,2 22,6.47715 22,12 C22,17.5228 17.5228,22 12,22 C6.47715,22 2,17.5228 2,12 C2,6.47715 6.47715,2 12,2 Z M12,3.5 C7.30558,3.5 3.5,7.30558 3.5,12 C3.5,16.6944 7.30558,20.5 12,20.5 C16.6944,20.5 20.5,16.6944 20.5,12 C20.5,7.30558 16.6944,3.5 12,3.5 Z M16.75,12 C17.1296833,12 17.4434889,12.2821653 17.4931531,12.6482323 L17.5,12.75 L17.5,15.75 C17.5,16.1642 17.1642,16.5 16.75,16.5 C16.3703167,16.5 16.0565111,16.2178347 16.0068469,15.8517677 L16,15.75 L16,15 C15.0881,16.2143 13.6362,17 11.9999,17 C10.4748,17 9.09587,16.316 8.17857,15.237 C7.91028,14.9214 7.94862,14.4481 8.2642,14.1798 C8.57979,13.9115 9.05311,13.9499 9.3214,14.2655 C9.96322,15.0204 10.9293,15.5 11.9999,15.5 C13.32553,15.5 14.4803167,14.7625672 15.0742404,13.6746351 L15.1633,13.5 L14,13.5 C13.5858,13.5 13.25,13.1642 13.25,12.75 C13.25,12.3703167 13.5321653,12.0565111 13.8982323,12.0068469 L14,12 L16.75,12 Z M11.9999,7 C13.5368,7 14.9041,7.66036 15.8268,8.77062 C16.0915,9.08918 16.0479,9.56205 15.7294,9.8268 C15.4108,10.0916 14.9379,10.0479 14.6732,9.72938 C14.0368,8.96361 13.093,8.5 11.9999,8.5 C10.5754318,8.5 9.34895806,9.35140335 8.80281957,10.5730172 L8.72948,10.75 L10,10.75 C10.4142,10.75 10.75,11.0858 10.75,11.5 C10.75,11.8796833 10.4678347,12.1934889 10.1017677,12.2431531 L10,12.25 L7.25,12.25 C6.8703075,12.25 6.55650958,11.9678347 6.50684668,11.6017677 L6.5,11.5 L6.5,8.25 C6.5,7.83579 6.83579,7.5 7.25,7.5 C7.6296925,7.5 7.94349042,7.78215688 7.99315332,8.14823019 L8,8.25 L8,8.99955 C8.9121,7.78531 10.364,7 11.9999,7 Z</StreamGeometry>
        <StreamGeometry x:Key="SearchRegular">M11.5,2.75 C16.3324916,2.75 20.25,6.66750844 20.25,11.5 C20.25,13.6461673 19.4773285,15.6118676 18.1949905,17.1340957 L25.0303301,23.9696699 C25.3232233,24.2625631 25.3232233,24.7374369 25.0303301,25.0303301 C24.7640635,25.2965966 24.3473998,25.3208027 24.0537883,25.1029482 L23.9696699,25.0303301 L17.1340957,18.1949905 C15.6118676,19.4773285 13.6461673,20.25 11.5,20.25 C6.66750844,20.25 2.75,16.3324916 2.75,11.5 C2.75,6.66750844 6.66750844,2.75 11.5,2.75 Z M11.5,4.25 C7.49593556,4.25 4.25,7.49593556 4.25,11.5 C4.25,15.5040644 7.49593556,18.75 11.5,18.75 C15.5040644,18.75 18.75,15.5040644 18.75,11.5 C18.75,7.49593556 15.5040644,4.25 11.5,4.25 Z</StreamGeometry>
        <StreamGeometry x:Key="EyeShowRegular">M12,9.0046246 C14.209139,9.0046246 16,10.7954856 16,13.0046246 C16,15.2137636 14.209139,17.0046246 12,17.0046246 C9.790861,17.0046246 8,15.2137636 8,13.0046246 C8,10.7954856 9.790861,9.0046246 12,9.0046246 Z M12,10.5046246 C10.6192881,10.5046246 9.5,11.6239127 9.5,13.0046246 C9.5,14.3853365 10.6192881,15.5046246 12,15.5046246 C13.3807119,15.5046246 14.5,14.3853365 14.5,13.0046246 C14.5,11.6239127 13.3807119,10.5046246 12,10.5046246 Z M12,5.5 C16.613512,5.5 20.5960869,8.65000641 21.7011157,13.0643865 C21.8017,13.4662019 21.557504,13.8734775 21.1556885,13.9740618 C20.7538731,14.0746462 20.3465976,13.8304502 20.2460132,13.4286347 C19.3071259,9.67795854 15.9213644,7 12,7 C8.07693257,7 4.69009765,9.68026417 3.75285786,13.4331499 C3.65249525,13.8350208 3.24535455,14.0794416 2.84348365,13.979079 C2.44161275,13.8787164 2.19719198,13.4715757 2.29755459,13.0697048 C3.4006459,8.65271806 7.38448293,5.5 12,5.5 Z</StreamGeometry>
        <StreamGeometry x:Key="EyeHideRegular">M2.21967 2.21967C1.9534 2.48594 1.9292 2.9026 2.14705 3.19621L2.21967 3.28033L6.25424 7.3149C4.33225 8.66437 2.89577 10.6799 2.29888 13.0644C2.1983 13.4662 2.4425 13.8735 2.84431 13.9741C3.24613 14.0746 3.6534 13.8305 3.75399 13.4286C4.28346 11.3135 5.59112 9.53947 7.33416 8.39452L9.14379 10.2043C8.43628 10.9258 8 11.9143 8 13.0046C8 15.2138 9.79086 17.0046 12 17.0046C13.0904 17.0046 14.0788 16.5683 14.8004 15.8608L20.7197 21.7803C21.0126 22.0732 21.4874 22.0732 21.7803 21.7803C22.0466 21.5141 22.0708 21.0974 21.8529 20.8038L21.7803 20.7197L15.6668 14.6055L15.668 14.604L14.4679 13.4061L11.598 10.5368L11.6 10.536L8.71877 7.65782L8.72 7.656L7.58672 6.52549L3.28033 2.21967C2.98744 1.92678 2.51256 1.92678 2.21967 2.21967ZM10.2041 11.2655L13.7392 14.8006C13.2892 15.2364 12.6759 15.5046 12 15.5046C10.6193 15.5046 9.5 14.3853 9.5 13.0046C9.5 12.3287 9.76824 11.7154 10.2041 11.2655ZM12 5.5C10.9997 5.5 10.0291 5.64807 9.11109 5.925L10.3481 7.16119C10.8839 7.05532 11.4364 7 12 7C15.9231 7 19.3099 9.68026 20.2471 13.4332C20.3475 13.835 20.7546 14.0794 21.1565 13.9791C21.5584 13.8787 21.8028 13.4716 21.7024 13.0697C20.5994 8.65272 16.6155 5.5 12 5.5ZM12.1947 9.00928L15.996 12.81C15.8942 10.7531 14.2472 9.10764 12.1947 9.00928Z</StreamGeometry>
        <StreamGeometry x:Key="SendRegular">M3.78963301,2.77233335 L24.8609339,12.8499121 C25.4837277,13.1477699 25.7471402,13.8941055 25.4492823,14.5168992 C25.326107,14.7744476 25.1184823,14.9820723 24.8609339,15.1052476 L3.78963301,25.1828263 C3.16683929,25.4806842 2.42050372,25.2172716 2.12264586,24.5944779 C1.99321184,24.3238431 1.96542524,24.015685 2.04435886,23.7262618 L4.7030903,13.9775798 L2.04435886,4.22889788 C1.8627142,3.56286745 2.25538645,2.87569101 2.92141688,2.69404635 C3.21084015,2.61511273 3.51899823,2.64289932 3.78963301,2.77233335 Z M3.63522914,4.36121177 L6.058,13.249 L17,13.25 C17.3796958,13.25 17.693491,13.5321539 17.7431534,13.8982294 L17.75,14 C17.75,14.3796958 17.4678461,14.693491 17.1017706,14.7431534 L17,14.75 L6.046,14.749 L3.63522914,23.5939479 L23.7421805,13.9775798 L3.63522914,4.36121177 Z</StreamGeometry>
        <StreamGeometry x:Key="PresenceOfflineRegular">M10.7071 5.29289C11.0976 5.68342 11.0976 6.31658 10.7071 6.70711L9.41421 8L10.7071 9.29289C11.0976 9.68342 11.0976 10.3166 10.7071 10.7071C10.3166 11.0976 9.68342 11.0976 9.29289 10.7071L8 9.41421L6.70711 10.7071C6.31658 11.0976 5.68342 11.0976 5.29289 10.7071C4.90237 10.3166 4.90237 9.68342 5.29289 9.29289L6.58579 8L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L8 6.58579L9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289Z M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2Z</StreamGeometry>
        <StreamGeometry x:Key="SelectObjectRegular">M7 5C7 6.10457 6.10457 7 5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3C6.10457 3 7 3.89543 7 5Z M8 4.75C8 5.16421 8.33579 5.5 8.75 5.5L15.25 5.5C15.6642 5.5 16 5.16421 16 4.75C16 4.33579 15.6642 4 15.25 4L8.75 4C8.33579 4 8 4.33579 8 4.75Z M4.75 8C4.33579 8 4 8.33579 4 8.75V15.25C4 15.6642 4.33579 16 4.75 16C5.16421 16 5.5 15.6642 5.5 15.25V8.75C5.5 8.33579 5.16421 8 4.75 8Z M19.25 8C18.8358 8 18.5 8.33579 18.5 8.75V15.25C18.5 15.6642 18.8358 16 19.25 16C19.6642 16 20 15.6642 20 15.25V8.75C20 8.33579 19.6642 8 19.25 8Z M8.75 20C8.33579 20 8 19.6642 8 19.25C8 18.8358 8.33579 18.5 8.75 18.5H15.25C15.6642 18.5 16 18.8358 16 19.25C16 19.6642 15.6642 20 15.25 20H8.75Z M5 21C6.10457 21 7 20.1046 7 19C7 17.8954 6.10457 17 5 17C3.89543 17 3 17.8954 3 19C3 20.1046 3.89543 21 5 21Z M21 5C21 6.10457 20.1046 7 19 7C17.8954 7 17 6.10457 17 5C17 3.89543 17.8954 3 19 3C20.1046 3 21 3.89543 21 5Z M19 21C20.1046 21 21 20.1046 21 19C21 17.8954 20.1046 17 19 17C17.8954 17 17 17.8954 17 19C17 20.1046 17.8954 21 19 21Z</StreamGeometry>
    </UserControl.Resources>
    <DockPanel>
        <StackPanel DockPanel.Dock="Top">
            <DockPanel>
                <StackPanel Orientation="Horizontal" Spacing="5" Margin="5">
                    <Button VerticalAlignment="Center" Click="GoBack" Background="Transparent"
                            ToolTip.Tip="{x:Static lang:Lang.GoBack}" HotKey="Escape">
                        <Path Data="{StaticResource ChevronLeftRegular}"
                              Fill="{DynamicResource TextControlForeground}"
                              Stretch="Uniform"
                              Height="24" />
                    </Button>
                    <TextBox FontSize="20" FontWeight="Bold" IsReadOnly="{CompiledBinding !#EditName.IsChecked}"
                             Text="{CompiledBinding $parent[views:NoteScreen].Bank.Name, Mode=TwoWay}"
                             VerticalAlignment="Center">
                        <TextBox.Styles>
                            <Style Selector="TextBox[IsReadOnly=True]">
                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                <Setter Property="BorderThickness" Value="0" />
                            </Style>
                            <Style Selector="TextBox[IsReadOnly=True]:focus">
                                <Style Selector="^ /template/ Border#PART_BorderElement">
                                    <Setter Property="IsVisible" Value="False" />
                                </Style>
                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                <Setter Property="BorderThickness" Value="0" />
                            </Style>
                        </TextBox.Styles>
                    </TextBox>
                    <ToggleButton Name="EditName" Background="Transparent"
                                  ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_EditName}">
                        <Path Data="{StaticResource EditRegular}" Height="24" Stretch="Uniform"
                              Fill="{DynamicResource TextControlForeground}" />
                    </ToggleButton>
                </StackPanel>
            </DockPanel>
            <Separator />
        </StackPanel>
        <Carousel Margin="5" Name="MainCarousel">
            <Carousel.PageTransition>
                <CompositePageTransition>
                    <CrossFade Duration="0:00:00.25" FadeInEasing="SineEaseIn" FadeOutEasing="SineEaseOut" />
                    <PageSlide Duration="0:00:00.25" Orientation="Horizontal" SlideInEasing="SineEaseIn"
                               SlideOutEasing="SineEaseOut" />
                </CompositePageTransition>
            </Carousel.PageTransition>
            <Panel Name="LoadingPanel">
                <DockPanel Margin="5">
                    <StackPanel DockPanel.Dock="Top">
                        <ui:ProgressRing Width="80"
                                         Height="80"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Top"
                                         IsIndeterminate="True"
                                         Margin="020" IsVisible="{CompiledBinding !#ErrorPanel.IsVisible}"
                                         Name="LoadingProgress" />
                    </StackPanel>
                    <DockPanel IsVisible="False" Name="ErrorPanel">
                        <Button DockPanel.Dock="Bottom" HorizontalAlignment="Center"
                                Content="{x:Static lang:Lang.NoteScreen_SaveLogToFile}" Click="SaveLogToFileClick" />
                        <TextBox Name="LogText" IsReadOnly="True" AcceptsReturn="True" TextWrapping="Wrap" />
                    </DockPanel>
                </DockPanel>
            </Panel>
            <DockPanel Name="ContentPanel" IsEnabled="{CompiledBinding !$parent[views:NoteScreen].Bank.IsSaving}">
                <DockPanel>
                    <ProgressBar DockPanel.Dock="Top" IsIndeterminate="True" Margin="5" Name="SavingProgressBar"
                                 IsVisible="{CompiledBinding $parent[views:NoteScreen].Bank.IsSaving}" />
                    <Grid ColumnDefinitions="*,*" DockPanel.Dock="Top">
                        <ScrollViewer>
                            <StackPanel Orientation="Horizontal">
                                <CheckBox HotKey="Ctrl+A" Name="CheckAll"
                                          IsVisible="{CompiledBinding #SelectionEnabled.IsChecked}"
                                          ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_SelectAll}"
                                          IsEnabled="{CompiledBinding $self.IsVisible}"
                                          IsCheckedChanged="CheckAll_OnIsCheckedChanged" />
                                <Button HotKey="Ctrl+W" Background="Transparent"
                                        IsVisible="{CompiledBinding #SelectionEnabled.IsChecked}"
                                        Click="InvertSelection"
                                        ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_InvertSelection}"
                                        IsEnabled="{CompiledBinding $self.IsVisible}">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource ArrowSyncCircleRegular}" Stretch="Uniform" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}" />
                                </Button>
                                <Button HotKey="Ctrl+R" IsVisible="{CompiledBinding #SelectionEnabled.IsChecked}"
                                        Background="Transparent"
                                        Click="RemoveSelected"
                                        ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_RemoveSelected}"
                                        IsEnabled="{CompiledBinding $self.IsVisible}">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource DeleteRegular}" Stretch="Uniform" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}" />
                                </Button>
                                <Button HotKey="Ctrl+E" Background="Transparent"
                                        IsVisible="{CompiledBinding #SelectionEnabled.IsChecked}"
                                        Click="ExportSelected"
                                        ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_ExportSelected}"
                                        IsEnabled="{CompiledBinding $self.IsVisible}">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource ArrowUploadRegular}" Stretch="Uniform" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}" />
                                </Button>
                                <ToggleButton HotKey="Ctrl+S" Name="SelectionEnabled" Background="Transparent">
                                    <ToolTip.Tip>
                                        <Panel>
                                            <TextBlock TextWrapping="Wrap"
                                                       IsVisible="{CompiledBinding $parent[ToggleButton].IsChecked}"
                                                       Text="{x:Static lang:Lang.ToolTip_Note_SelectItemsExit}" />
                                            <TextBlock TextWrapping="Wrap"
                                                       IsVisible="{CompiledBinding !$parent[ToggleButton].IsChecked}"
                                                       Text="{x:Static lang:Lang.ToolTip_Note_SelectItems}" />
                                        </Panel>
                                    </ToolTip.Tip>
                                    <Grid RowDefinitions="*,Auto,*" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}">
                                        <Path Grid.Row="1" Fill="{DynamicResource ButtonForeground}"
                                              Data="{StaticResource SelectObjectRegular}"
                                              IsVisible="{CompiledBinding !$parent[ToggleButton].IsChecked}"
                                              Stretch="Uniform" />
                                        <Path Grid.Row="1" Fill="{DynamicResource ButtonForeground}"
                                              Data="{StaticResource PresenceOfflineRegular}"
                                              IsVisible="{CompiledBinding $parent[ToggleButton].IsChecked}"
                                              Stretch="Uniform" />
                                    </Grid>
                                </ToggleButton>
                                <ToggleButton HotKey="Ctrl+M" IsVisible="{CompiledBinding $self.IsEnabled}"
                                              IsEnabled="{CompiledBinding !#SelectionEnabled.IsChecked, Mode=OneWay}"
                                              Name="ReorderEnabled" Background="Transparent">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource ArrowMaximizeVerticalRegular}" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}"
                                          Stretch="Uniform" />
                                </ToggleButton>
                            </StackPanel>
                        </ScrollViewer>
                        <ScrollViewer Grid.Column="1">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button HotKey="Ctrl+I" Name="Import" Click="ImportFromFile"
                                        ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_Import}" Background="Transparent">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource ArrowDownloadRegular}" Stretch="Uniform" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}" />
                                </Button>
                                <ToggleButton HotKey="Ctrl+G" Name="RandomPick"
                                              ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_RandomButton}"
                                              Background="Transparent">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource DiceRegular}" Stretch="Uniform" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}" />
                                </ToggleButton>
                                <ToggleButton HotKey="Ctrl+F" Name="Search"
                                              ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_SearchButton}"
                                              Background="Transparent">
                                    <Path Fill="{DynamicResource ButtonForeground}"
                                          Data="{StaticResource SearchRegular}" Stretch="Uniform" Width="24"
                                          Height="{CompiledBinding $self.Bounds.Width}" />
                                </ToggleButton>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>

                    <DockPanel DockPanel.Dock="Top" IsEnabled="{CompiledBinding #RandomPick.IsChecked}"
                               IsVisible="{CompiledBinding $self.IsEnabled}">
                        <ToggleButton HotKey="Ctrl+Y" IsCheckedChanged="PickRandomCheckedChanged"
                                      DockPanel.Dock="Right"
                                      HorizontalAlignment="Stretch" Background="Transparent"
                                      ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_RandomPick}"
                                      HorizontalContentAlignment="Center">
                            <Grid ColumnDefinitions="*,Auto,*" Width="24"
                                  Height="{CompiledBinding $self.Bounds.Width}">
                                <Path Grid.Column="1" Fill="{DynamicResource ButtonForeground}"
                                      Data="{StaticResource PredictionsRegular}" Stretch="Uniform" />
                            </Grid>
                        </ToggleButton>
                        <DockPanel>
                            <TextBlock Text="{CompiledBinding #RandomPickSlider.LowerSelectedValue}"
                                       DockPanel.Dock="Left"
                                       VerticalAlignment="Center" Margin="5 0" />
                            <TextBlock Text="{CompiledBinding #RandomPickSlider.UpperSelectedValue}"
                                       DockPanel.Dock="Right"
                                       VerticalAlignment="Center" Margin="5 0" />
                            <rs:RangeSlider Name="RandomPickSlider" IsSnapToTickEnabled="True" IsThumbOverlap="True"
                                            MoveWholeRange="True" TickFrequency="1"
                                            UpperSelectedValue="{CompiledBinding $self.Maximum, Mode=OneTime}"
                                            Maximum="{CompiledBinding $parent[views:NoteScreen].Bank.VisibleCount}" />
                        </DockPanel>
                    </DockPanel>

                    <DockPanel DockPanel.Dock="Top" IsVisible="{CompiledBinding #Search.IsChecked}"
                               IsEnabled="{CompiledBinding $self.IsVisible}">
                        <ToggleButton HotKey="Ctrl+N" IsCheckedChanged="SearchCaseSensitivityCheckedChanged"
                                      Name="SearchCaseSensitivity"
                                      DockPanel.Dock="Right" Content="Cc" Background="Transparent"
                                      ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_SearchCaseSensitive}" />
                        <ToggleButton HotKey="Ctrl+M" IsCheckedChanged="SearchUseRegexCheckedChanged"
                                      Name="SearchUseRegex"
                                      DockPanel.Dock="Right" Content=".*" Background="Transparent"
                                      ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_SearchUseRegex}" />
                        <TextBox TextChanged="SearchBoxTextChanged" Name="SearchBox" Margin="5 0" />
                    </DockPanel>

                    <DockPanel DockPanel.Dock="Bottom" Name="TagsPanel" IsVisible="{CompiledBinding #Tags.IsChecked}"
                               IsEnabled="{CompiledBinding $self.IsVisible}">
                        <Button HotKey="Ctrl+Alt+M" Background="Transparent" DockPanel.Dock="Left" Margin="5 0"
                                Click="ManageTagsClicked">
                            <Path Data="{StaticResource SettingsRegular}"
                                  Fill="{DynamicResource TextControlForeground}"
                                  Stretch="Uniform"
                                  Height="24" />
                        </Button>
                        <ItemsControl ItemsSource="{CompiledBinding $parent[views:NoteEditUserControl].Bank.Tags}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate x:DataType="backend:Tag">
                                    <views:TagControl IsCheckedChanged="AllTagsCheckedChanged"
                                                      Tag="{CompiledBinding Self}"
                                                      TagObject="{CompiledBinding Self}" CornerRadius="50"
                                                      IsChecked="{CompiledBinding Checked, Mode=TwoWay}"
                                                      Color="{CompiledBinding Color}" AllowChecking="True">
                                        <ToolTip.Tip>
                                            <Panel>
                                                <TextBlock
                                                    IsVisible="{CompiledBinding !$parent[views:TagControl].TagObject.Checked, FallbackValue=True}"
                                                    Text="{x:Static lang:Lang.ToolTip_Note_TagMenuTagOff}"
                                                    TextWrapping="Wrap" />
                                                <TextBlock
                                                    IsVisible="{CompiledBinding $parent[views:TagControl].TagObject.Checked, FallbackValue=False}"
                                                    Text="{x:Static lang:Lang.ToolTip_Note_TagMenuTagOn}"
                                                    TextWrapping="Wrap" />
                                            </Panel>
                                        </ToolTip.Tip>
                                    </views:TagControl>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </DockPanel>

                    <DockPanel DockPanel.Dock="Bottom"
                               IsEnabled="{CompiledBinding $parent[views:NoteEditUserControl].Bank.CanWrite}">
                        <Button HotKey="Ctrl+Enter" DockPanel.Dock="Right" VerticalAlignment="Bottom"
                                Click="AddNewNoteClicked"
                                Background="Transparent"
                                IsVisible="{CompiledBinding !$parent[views:NoteScreen].EditMode}"
                                IsEnabled="{CompiledBinding $self.IsVisible}"
                                ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_Send}">
                            <Path Fill="{DynamicResource ButtonForeground}" Data="{StaticResource SendRegular}"
                                  Stretch="Uniform" Width="24" Height="{CompiledBinding $self.Width}" />
                        </Button>
                        <Button HotKey="Ctrl+Escape" DockPanel.Dock="Right"
                                IsVisible="{CompiledBinding $parent[views:NoteScreen].EditMode}"
                                Click="NoteItemEditOffOnClick"
                                IsEnabled="{CompiledBinding $self.IsVisible}" Background="Transparent">
                            <Path Data="{StaticResource EditOffRegular}" Width="24"
                                  Height="{CompiledBinding $self.Bounds.Width}"
                                  Fill="{DynamicResource ButtonForeground}"
                                  Stretch="Uniform" />
                        </Button>
                        <ToggleButton HotKey="Ctrl+Alt+T" Name="Tags"
                                      ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_TagMenuButton}"
                                      Background="Transparent">
                            <Path Fill="{DynamicResource ButtonForeground}"
                                  Data="{StaticResource TagRegular}" Stretch="Uniform" Width="24"
                                  Height="{CompiledBinding $self.Bounds.Width}" />
                        </ToggleButton>
                        <ToggleButton HotKey="Ctrl+Alt+P" Name="PreviewToggle" DockPanel.Dock="Left"
                                      Background="Transparent"
                                      VerticalAlignment="Bottom">
                            <ToolTip.Tip>
                                <Panel>
                                    <TextBlock TextWrapping="Wrap" Text="{x:Static lang:Lang.ToolTip_Note_PreviewOn}"
                                               IsVisible="{CompiledBinding $parent[ToggleButton].IsChecked}" />
                                    <TextBlock TextWrapping="Wrap" Text="{x:Static lang:Lang.ToolTip_Note_PreviewOff}"
                                               IsVisible="{CompiledBinding !$parent[ToggleButton].IsChecked}" />
                                </Panel>
                            </ToolTip.Tip>
                            <Grid RowDefinitions="*,Auto,*" Width="24" Height="{CompiledBinding $self.Bounds.Width}">
                                <Path Grid.Row="1" Fill="{DynamicResource ButtonForeground}"
                                      Data="{StaticResource EyeShowRegular}"
                                      IsVisible="{CompiledBinding #PreviewToggle.IsChecked}" Stretch="Uniform" />
                                <Path Grid.Row="1" Fill="{DynamicResource ButtonForeground}"
                                      Data="{StaticResource EyeHideRegular}"
                                      IsVisible="{CompiledBinding !#PreviewToggle.IsChecked}" Stretch="Uniform" />
                            </Grid>
                        </ToggleButton>
                        <ToggleButton HotKey="Ctrl+P" Name="PowerMode" DockPanel.Dock="Left" Background="Transparent"
                                      ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_PowerMode}"
                                      IsChecked="{CompiledBinding $parent[views:NUC].Settings.PowerMode, Mode=TwoWay}">
                            <Path Data="{StaticResource TopSpeedRegular}" Width="24"
                                  Height="{CompiledBinding $self.Bounds.Width}"
                                  Fill="{DynamicResource ButtonForeground}"
                                  Stretch="Uniform" />
                        </ToggleButton>
                        <ScrollViewer>
                            <Panel Margin="5 0">
                                <TextBox TextChanged="NewText_OnTextChanged" Name="NewText"
                                         IsReadOnly="{CompiledBinding #PreviewToggle.IsChecked}"
                                         AcceptsReturn="True" AcceptsTab="True">
                                    <TextBox.Styles>
                                        <Style Selector="TextBox[IsReadOnly=True]">
                                            <Setter Property="BorderBrush" Value="{x:Null}" />
                                            <Setter Property="BorderThickness" Value="0" />
                                        </Style>
                                        <Style Selector="TextBox[IsReadOnly=True]:focus">
                                            <Style Selector="^ /template/ Border#PART_BorderElement">
                                                <Setter Property="IsVisible" Value="False" />
                                            </Style>
                                            <Setter Property="BorderBrush" Value="{x:Null}" />
                                            <Setter Property="BorderThickness" Value="0" />
                                        </Style>
                                    </TextBox.Styles>
                                </TextBox>
                            </Panel>
                        </ScrollViewer>
                    </DockPanel>
                    <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
                        <Panel>
                            <Canvas Name="DragDropCanvas" />
                            <ItemsControl Name="NotesIc"
                                          ItemsSource="{CompiledBinding $parent[views:NoteScreen].Bank.Notes}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Name="DragDropPanel" Orientation="Vertical" Spacing="5"
                                                    DragDrop.AllowDrop="True" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate x:DataType="backend:Note">
                                        <Border IsVisible="{CompiledBinding Visible}" Margin="0 10 0 0"
                                                CornerRadius="5"
                                                Background="{DynamicResource ButtonBackground}" BorderThickness="1"
                                                Tag="{CompiledBinding Self}">
                                            <Border.Styles>
                                                <Style Selector="Border">
                                                    <Style.Animations>
                                                        <Animation Duration="0:0:0.5" IterationCount="1"
                                                                   Easing="BounceEaseIn">
                                                            <KeyFrame Cue="0%">
                                                                <Setter Property="Opacity" Value="0" />
                                                            </KeyFrame>
                                                            <KeyFrame Cue="100%">
                                                                <Setter Property="Opacity" Value="1" />
                                                            </KeyFrame>
                                                        </Animation>
                                                    </Style.Animations>
                                                </Style>
                                            </Border.Styles>
                                            <DockPanel>
                                                <Grid IsEnabled="{CompiledBinding !#SelectionEnabled.IsChecked}"
                                                      IsVisible="{CompiledBinding $self.IsEnabled}"
                                                      DockPanel.Dock="Left"
                                                      RowDefinitions="*,Auto,*">
                                                    <Button IsVisible="{CompiledBinding #ReorderEnabled.IsChecked}"
                                                            Grid.Row="0" Tag="{CompiledBinding Self}"
                                                            Click="MoveItemUp"
                                                            IsEnabled="{CompiledBinding !IsOnTop}"
                                                            Background="Transparent">
                                                        <Grid RowDefinitions="*,Auto" Width="24"
                                                              Height="{CompiledBinding $self.Bounds.Width}">
                                                            <Path Grid.Row="1"
                                                                  Fill="{DynamicResource ButtonForeground}"
                                                                  Stretch="Uniform" DockPanel.Dock="Top"
                                                                  Data="{StaticResource CaretUpRegular}" />
                                                        </Grid>
                                                    </Button>
                                                    <Button IsVisible="{CompiledBinding #ReorderEnabled.IsChecked}"
                                                            Grid.Row="2" Background="Transparent" Click="MoveItemDown"
                                                            IsEnabled="{CompiledBinding !IsOnBottom}"
                                                            Tag="{CompiledBinding Self}">
                                                        <Grid RowDefinitions="Auto,*" Width="24"
                                                              Height="{CompiledBinding $self.Bounds.Width}">
                                                            <Path Fill="{DynamicResource ButtonForeground}"
                                                                  Stretch="Uniform" Grid.Row="0"
                                                                  Data="{StaticResource CaretDownRegular}" />
                                                        </Grid>
                                                    </Button>
                                                </Grid>
                                                <CheckBox DockPanel.Dock="Left" Margin="5"
                                                          IsChecked="{CompiledBinding Checked, Mode=TwoWay}"
                                                          IsVisible="{CompiledBinding #SelectionEnabled.IsChecked}"
                                                          IsEnabled="{CompiledBinding $self.IsVisible}" />
                                                <TextBlock Text="{CompiledBinding DateAsString}"
                                                           x:DataType="backend:Note"
                                                           DockPanel.Dock="Top"
                                                           HorizontalAlignment="Left" />
                                                <Button Name="NoteItemEditMode" DockPanel.Dock="Right"
                                                        Click="NoteItemEditMode_OnClick"
                                                        Background="Transparent"
                                                        IsVisible="{CompiledBinding !$parent[views:NoteScreen].EditMode}"
                                                        IsEnabled="{CompiledBinding $self.IsEnabled}"
                                                        ToolTip.Tip="{x:Static lang:Lang.ToolTip_Note_EditNoteOff}"
                                                        Tag="{CompiledBinding Self}"
                                                        VerticalAlignment="Top">
                                                    <Path Fill="{DynamicResource ButtonForeground}"
                                                          Stretch="Uniform" Width="24"
                                                          Height="{CompiledBinding $self.Bounds.Width}"
                                                          Data="{StaticResource EditRegular}" />
                                                </Button>

                                                <TextBlock
                                                    TextWrapping="Wrap" Margin="5 5"
                                                    Text="{CompiledBinding Text, Mode=TwoWay}" Name="NoteText"
                                                    x:DataType="backend:Note" />
                                            </DockPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Panel>
                    </ScrollViewer>
                </DockPanel>
            </DockPanel>
        </Carousel>

    </DockPanel>
</UserControl>